<mat-sidenav-container> 
  <mat-sidenav-content>
    

    <div class="main-content">
      
      <div class="metrics-grid">
        <mat-card class="metric-card" (click)="viewDetail('orders')">
          <mat-icon>today</mat-icon>
          <div>
            <h2>{{ TotalOrders || 0 }}</h2>
            <p>Total Orders</p>
          </div>
        </mat-card>

        <mat-card class="metric-card" (click)="viewDetail('revenue')">
          <mat-icon>attach_money</mat-icon>
          <div>
            <h2>₹ {{ TotalRevenue || 0 }}</h2>
            <p>Total Revenue </p>
          </div>
        </mat-card>

        <mat-card class="metric-card" (click)="viewDetail('lowStock')">
          <mat-icon>warning</mat-icon>
          <div>
            <h2>{{ TotalLowStock }}</h2>
            <p>Low-Stocks</p>
          </div>
        </mat-card>

        <mat-card class="metric-card" (click)="viewDetail('newUsers')">
          <mat-icon>person_add</mat-icon>
          <div>
            <h2>{{ TotalUsers || 0 }}</h2>
            <p>Total Users</p>
          </div>
        </mat-card>
      </div>

      
      <div class="tables-row">
       
        <mat-card class="table-card">
          <mat-card-header>
            <mat-card-title>Low-Stock Items</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <table mat-table [dataSource]="lowStock" class="mat-elevation-z1">
              
               <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef>Medicine</th>
                <td mat-cell *matCellDef="let e">{{ e.name }}</td>
              </ng-container>
              <ng-container matColumnDef="sku">
                <th mat-header-cell *matHeaderCellDef>SKU</th>
                <td mat-cell *matCellDef="let e">{{ e.sku }}</td>
              </ng-container>
              <ng-container matColumnDef="qty">
                <th mat-header-cell *matHeaderCellDef>Qty</th>
                <td mat-cell *matCellDef="let e">{{ e.qty }}</td>
              </ng-container>
              <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef></th>
                <td mat-cell *matCellDef="let e">
                  <button mat-button color="accent" (click)="reorder(e.sku)">
                    Reorder
                  </button>
                </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="lowStockColumns"></tr>
              <tr mat-row        *matRowDef="let row; columns: lowStockColumns;"></tr>
            </table>
          </mat-card-content>
        </mat-card>
 
        
         <mat-card class="table-card">
          <mat-card-header>
            <mat-card-title>Recent Orders</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <table mat-table [dataSource]="recentOrders" class="mat-elevation-z1">
              <ng-container matColumnDef="orderId">
                <th mat-header-cell *matHeaderCellDef>Order #</th>
                <td mat-cell *matCellDef="let o">{{ o.orderId }}</td>
              </ng-container>
              <ng-container matColumnDef="customer">
                <th mat-header-cell *matHeaderCellDef>Customer #</th>
                <td mat-cell *matCellDef="let o">{{ o.userId }}</td>
              </ng-container>
              <!-- <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef>Status</th>
                <td mat-cell *matCellDef="let o">{{ o.status }}</td>
              </ng-container> -->
              <ng-container matColumnDef="total">
                <th mat-header-cell *matHeaderCellDef>Total(₹)</th>
                <td mat-cell *matCellDef="let o"> {{ o.totalAmount }}</td>
              </ng-container>
              <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef>Date</th>
                <td mat-cell *matCellDef="let o">{{ o.orderDate | date:'shortDate' }}</td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="orderColumns"></tr>
              <tr mat-row        *matRowDef="let row; columns: orderColumns;"></tr>
            </table>
          </mat-card-content>
        </mat-card>
      </div>
 
       
       <mat-card class="chart-card">
        <mat-card-header>
          <mat-card-title>Sales Trend</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="chart-placeholder">[ Sales Trend Chart ]</div>
        </mat-card-content>
      </mat-card>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container> 